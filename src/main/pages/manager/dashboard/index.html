<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Gerencie seu negócio de forma eficiente com o painel OrderFlow: visualize pedidos, faturamento, vendas e muito mais em tempo real."
    />

    <script src="/scripts/check-auth.js"></script>

    <link rel="stylesheet" href="/manager/dashboard/style.css" />
    <title>Dashboard do Gerente</title>
  </head>
  <body>
    <app-header button="menu"></app-header>

    <manager-nav page="dashboard"></manager-nav>

    <main class="main">
      <div class="business-stats">
        <h2 class="business-stats__title skeleton" id="businessName"></h2>
        <select name="timeFilter" class="business-stats__select">
          <option value="day">Hoje</option>
          <option value="week">Essa Semana</option>
          <option value="month">Esse Mês</option>
          <option value="6months">Últimos 6 Meses</option>
          <option value="year">Esse Ano</option>
        </select>
        <div class="business-stats__info">
          <p>Faturamento: R$ <span id="revenue">00,00</span></p>
          <p>
            Faturamento/<span id="period">Hora</span>: R$
            <span id="hourlyRevenue">00,00</span>
          </p>
          <p>Pedidos: <span id="ordersAmount">0</span></p>
          <p>Pedidos concluídos: <span id="completedOrders">0</span></p>
          <p>Pedidos cancelados: <span id="canceledOrders">0</span></p>
        </div>
        <div class="business-stats__chart">
          <div class="chart-skeleton skeleton">
            <div class="chart-hole"></div>
          </div>
          <canvas id="salesChart" width="280" height="280"></canvas>
          <div class="chart-info">
            <p id="chartPorcentage"></p>
            <p id="chartQuantity"></p>
          </div>
        </div>
      </div>
      <div class="last-orders">
        <h3>Últimos pedidos de hoje:</h3>
        <div class="last-orders__carousel">
          <button
            id="carouselLeftBtn"
            disabled
            aria-label="Deslizar carrossel para a direita"
          >
            <img
              src="/manager/dashboard/img/left-arrow-icon.svg"
              alt="seta para a esquerda"
            />
          </button>
          <div class="last-orders__box">
            <div class="last-orders__orders" id="lastOrders"></div>
            <div class="last-orders__skeletons">
              <div class="last-orders__order-skeleton skeleton"></div>
              <div class="last-orders__order-skeleton skeleton"></div>
              <div class="last-orders__order-skeleton skeleton"></div>
              <div class="last-orders__order-skeleton skeleton"></div>
            </div>
          </div>
          <button
            id="carouselRightBtn"
            disabled
            aria-label="Deslizar carrossel para a direita"
          >
            <img
              src="/manager/dashboard/img/right-arrow-icon.svg"
              alt="seta para a direita"
            />
          </button>
        </div>
      </div>
    </main>

    <app-snackbar id="snackbar"></app-snackbar>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/manager/dashboard/script.js" type="module"></script>
  </body>
</html>
